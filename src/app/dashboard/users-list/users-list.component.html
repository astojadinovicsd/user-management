<div>
  <div class="flex justify-content-end my-2">
    <p-button
      label="Add user"
      (onClick)="addUser()"
      [disabled]="
        (usersCount$ | async) !== (this.activeUsersCount$ | async) ||
        (usersCount$ | async)! >= 5
      "></p-button>
  </div>

  <p-table [value]="(users$ | async) || []">
    <ng-template pTemplate="header">
      <tr>
        <th>Id</th>
        <th>Name</th>
        <th>Active</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-user>
      <tr>
        <td>{{ user.id }}</td>
        <td>{{ user.name }}</td>
        <td>
          <p-inputSwitch
            [ngModel]="user.active"
            (onChange)="onUserActiveToggled(user)"></p-inputSwitch>
        </td>
      </tr>
    </ng-template>
  </p-table>
</div>
